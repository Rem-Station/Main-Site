"use strict";var SELECTED_GALLERY_IMG,SELECTED_THUMB,GALLERY_IMGS,GALLERY_THUMBS;function pick(a){return a[Math.floor(Math.random()*a.length)]}function onLoaded(){setupVideoIntersectionObserver(),setupGallery()}GALLERY_IMGS={},GALLERY_THUMBS={};function setupGallery(){for(var c=document.querySelectorAll(".gallery-img"),a=0,b,d,e,f;a<c.length;a++)b=c[a],d=b.dataset.galleryId,console.log("img: "+a+": "+d),GALLERY_IMGS[d]=b,b.classList.contains("active")&&(SELECTED_GALLERY_IMG=b);e=document.querySelectorAll(".gallery-thumb"),f=function(){var b=e[a],c=b.dataset.galleryId;console.log("thumb "+a+": "+c),GALLERY_THUMBS[c]=b,GALLERY_IMGS[c]==SELECTED_GALLERY_IMG&&(b.classList.add("active"),SELECTED_THUMB=b),b.addEventListener("click",function(a){switchToImage(c)})};for(a=0;a<e.length;a++)f()}function switchToImage(a){var d=SELECTED_GALLERY_IMG,e=SELECTED_THUMB,b=GALLERY_IMGS[a],c=GALLERY_THUMBS[a];d.classList.remove("active"),b.classList.add("active"),e.classList.remove("active"),c.classList.add("active"),SELECTED_GALLERY_IMG=b,SELECTED_THUMB=c}function setupVideoIntersectionObserver(){var d,c,b,a;if(!('IntersectionObserver'in window))return;d=new IntersectionObserver(intersectionCallback),c=document.querySelectorAll("video");for(b=0;b<c.length;b++)a=c[b],a.paused&&!a.autoplay&&(a.attributes["was-paused"]=!0),d.observe(a)}function intersectionCallback(e,f){for(var b=0,c=e,d,a;b<c.length;b++)d=c[b],a=d.target,d.isIntersecting?a.attributes["was-paused"]||a.play():(a.paused&&!a.autoplay&&(a.attributes["was-paused"]=!0),a.pause())}document.readyState!=="loading"?onLoaded():document.addEventListener("DOMContentLoaded",onLoaded)